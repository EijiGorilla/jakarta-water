"use strict";(self.webpackChunkjakarta_water=self.webpackChunkjakarta_water||[]).push([[89694],{89694(t,r,s){s.r(r),s.d(r,{SplatSortWorkerInput:()=>e,SplatSortWorkerOutput:()=>n,destroy:()=>u,sort:()=>i});class e{constructor(t,r,s){let e=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.distances=t,this.sortOrderIndices=r,this.numGaussians=s,this.preciseSort=e}}class n{constructor(t,r){this.distances=t,this.sortedOrderIndices=r}}let a=null,o=null;function l(t,r){const s=t.length,e=Math.max(10,Math.min(20,Math.round(Math.log2(s/.25)))),n=1+(1<<e);!function(t,r){var s;(null===(s=a)||void 0===s?void 0:s.length)!==t&&(a=new Uint32Array(t)),o&&o.length===1+(1<<r)?o.fill(0):o=new Uint32Array(1+(1<<r))}(s,e);let l=t[0],i=t[0];for(let a=0;a<t.length;a++)l=Math.min(l,t[a]),i=Math.max(i,t[a]);const u=i-l;if(u<1e-6)for(let c=0;c<s;++c)a[c]=0,o[0]++;else{const r=(1<<e)/u;for(let e=0;e<s;e++){const s=(t[e]-l)*r>>>0;a[e]=s,o[s]++}}for(let a=1;a<n;a++)o[a]+=o[a-1];for(let c=0;c<s;c++){const t=a[c];r[--o[t]]=c}}async function i(t){const{distances:r,sortOrderIndices:s,preciseSort:e,numGaussians:a}=t,o=r.subarray(0,a),i=s.subarray(0,a);if(0===o.length||0===i.length)return{result:new n(r,s),transferList:[r.buffer,s.buffer]};if(e){const t=Array.from(i.keys());t.sort((t,r)=>o[t]-o[r]||t-r);const r=t.map(t=>i[t]);i.set(r)}else l(o,i);return{result:new n(r,s),transferList:[r.buffer,s.buffer]}}function u(){a=null,o=null}}}]);
//# sourceMappingURL=89694.ad61869c.chunk.js.map