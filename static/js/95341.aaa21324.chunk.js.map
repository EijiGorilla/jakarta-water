{"version":3,"file":"static/js/95341.aaa21324.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/ParquetEncodingWkb.js","../node_modules/@arcgis/core/layers/support/parquetUtils.js","../node_modules/@arcgis/core/core/QueueProcessor.js","../node_modules/@arcgis/core/layers/support/locationUtils.js","../node_modules/@arcgis/core/layers/support/ParquetEncodingBase.js","../node_modules/@arcgis/core/views/2d/layers/features/support/FeatureMetadata.js","../node_modules/@arcgis/core/layers/support/parquetEncodingUtils.js","../node_modules/@arcgis/core/layers/graphics/sources/support/ParquetSourceWorker.js","../node_modules/@arcgis/core/layers/support/ParquetEncodingLocation.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import{ParquetEncodingBase as t}from\"./ParquetEncodingBase.js\";let s=class extends t{constructor(r){super(r),this.type=\"wkb\",this.primaryFieldName=null}};r([o({type:[\"wkb\"]})],s.prototype,\"type\",void 0),r([o({type:[\"counter-clockwise\"],json:{write:!0}})],s.prototype,\"orientation\",void 0),r([o({type:String,json:{name:\"field\",write:{isRequired:!0}}})],s.prototype,\"primaryFieldName\",void 0),s=r([e(\"esri.layers.support.ParquetEncodingWkb\")],s);export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Collection.js\";import t from\"../../core/Error.js\";import{JSONMap as o}from\"../../core/jsonMap.js\";import n from\"../../geometry/SpatialReference.js\";import i from\"./Field.js\";import{inferLocationInfo as r}from\"./locationUtils.js\";import l from\"./ParquetEncodingLocation.js\";import s from\"./ParquetEncodingWkb.js\";import{createParquetFile as a,readGeoMetadata as u,readEsriMetadata as m}from\"../../libs/parquet/parquet.js\";const c=new o({esriGeometryPoint:\"point\",esriGeometryPolygon:\"polygon\",esriGeometryPolyline:\"polyline\",esriGeometryMultipoint:\"multipoint\"});function p(e){return c.toJSON(e)}function f(e){return c.fromJSON(e)}function d(t,o={}){return y({urls:new e(t)},o)}async function y(e,o={}){if(e.urls.length<1)throw new t(\"parquet:bad-input\",\"At least one url must be specified\",e);if(e.geometryType&&e.spatialReference&&e.encoding&&e.fields)return e;const r=await a(e.urls.getItemAt(0),{getCustomParameters:()=>o.customParameters}),l=u(r),s={...e,file:r};null==s.fields&&(s.fields=r.fields().map(e=>i.fromJSON({name:e.name,alias:e.name,type:e.type}))),null==s.encoding&&(s.encoding=g(l,s.fields));const c=m(r);if(c)switch(c.mode){case\"z\":s.displayOptimization={mode:\"z\"};break;case\"xz\":{const e=c.multiscale;if(!e)throw new t(\"parquet:bad-format\",\"XZ display optimization requires multiscale geometries\");s.displayOptimization={mode:\"xz\",multiscale:e};break}}if(!s.encoding)return s;switch(s.encoding.type){case\"location\":null==s.spatialReference&&(s.spatialReference=n.WGS84),null==s.geometryType&&(s.geometryType=\"point\");break;case\"wkb\":{if(!l)return s;const e=l.primary_column,t=l.columns[e];if(s.geometryType||(s.geometryType=P(t)),s.spatialReference||(s.spatialReference=b(t)),s.fields)for(const o of Object.keys(l.columns))s.fields=s.fields.filter(e=>e.name!==o)}}return s}function g(e,t){if(null!=e){const t=e.primary_column,o=e.columns[t];return new s({primaryFieldName:t,orientation:\"counterclockwise\"===o.orientation?\"counter-clockwise\":null})}const o=r(t.map(e=>e.name));return o.latitudeFieldName&&o.longitudeFieldName?new l({latitudeFieldName:o.latitudeFieldName,longitudeFieldName:o.longitudeFieldName}):null}function w(e){switch(e){case\"Point\":return\"point\";case\"Polygon\":case\"MultiPolygon\":return\"polygon\";case\"LineString\":return\"polyline\";case\"MultiPoint\":return\"multipoint\";default:return null}}function P(e){const{geometry_types:o}=e,n=new Set;for(const t of o){const e=w(t);e&&n.add(e)}if(n.size>1)throw new t(\"parquet:unsupported\",\"Parquet mixed geometry types are not supported\",{geometryTypes:n});return 1===n.size?n.values().next().value:void 0}function b(e){const t=e.crs?.id?.code;return t&&\"number\"==typeof t?new n({wkid:t}):void 0}export{y as completeParquetLayerInfo,f as fromParquetJSONGeometryType,d as getParquetLayerInfo,c as parquetGeometryTypeKebabDict,p as toParquetJSONGeometryType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{removeMaybe as e}from\"./maybe.js\";import{onAbort as s,onAbortOrThrow as t,createResolver as r,createAbortError as i,isPromiseLike as h}from\"./promiseUtils.js\";import o from\"./Queue.js\";import n from\"./ReactiveMap.js\";import{schedule as c}from\"./scheduling.js\";import{signal as l}from\"./signal.js\";class u{constructor(e,s){this.item=e,this.controller=s,this.promise=null}}class _{constructor(e){this._schedule=null,this._deferreds=new n,this._controllers=new n,this._processingItems=new n,this._pausedSignal=l(!1),this.concurrency=1,e.concurrency&&(this.concurrency=e.concurrency),this._queue=new o(e.peeker),this.process=e.process}destroy(){this.clear(),this._schedule=e(this._schedule)}get updating(){return this.running}get length(){return this._processingItems.size+this._queue.length}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}abort(e){const s=this._controllers.get(e);s&&s.abort()}clear(){this._queue.clear();const e=[];this._controllers.forEach(s=>e.push(s)),this._controllers.clear(),e.forEach(e=>e.abort()),this._processingItems.clear(),this._cancelNext()}forEach(e){this._deferreds.forEach((s,t)=>e(t))}get(e){const s=this._deferreds.get(e);return s?s.promise:void 0}isOngoing(e){return this._processingItems.has(e)}has(e){return this._deferreds.has(e)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(e,h){const o=this.get(e);if(o)return o;const n=new AbortController;let c=null;h&&(c=s(h,()=>n.abort()));const l=()=>{const s=this._processingItems.get(e);s&&s.controller.abort(),u(),a.reject(i())},u=()=>{_.remove(),null!=c&&c.remove(),this._removeItem(e),this._queue.remove(e),this._scheduleNext()},_=t(n.signal,l),a=r();return this._deferreds.set(e,a),this._controllers.set(e,n),a.promise.then(u,u),this._queue.push(e),this._scheduleNext(),a.promise}last(){return this._queue.last()}lastPromise(){const e=this.last();return e?this.get(e):null}peek(){return this._queue.peek()}popLast(){const e=this._queue.popLast();return e&&(this._deferreds.get(e)?.reject(i()),this._removeItem(e)),e}reset(){const e=Array.from(this._processingItems.values());this._processingItems.clear();for(const s of e)this._queue.push(s.item),s.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const e=[];for(;this._queue.length;)e.push(this._queue.pop());return this.clear(),e}_removeItem(e){this._deferreds.delete(e),this._controllers.delete(e),this._processingItems.delete(e)}_scheduleNext(){this._pausedSignal.value||this._schedule||(this._schedule=c(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(e,s){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(s))}_processError(e,s){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(s))}_canProcessFulfillment(e){return!!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}_process(e){if(null==e)return;let s;const t=new AbortController,r=new u(e,t);this._processingItems.set(e,r);try{s=this.process(e,t.signal)}catch(i){this._processError(r,i)}h(s)?(r.promise=s,s.then(e=>this._processResult(r,e),e=>this._processError(r,e))):this._processResult(r,s)}}export{_ as QueueProcessor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{normalizeFieldName as e}from\"./fieldUtils.js\";function n(n,d,i){d=e(d)?.toLowerCase(),i=e(i)?.toLowerCase();const o=n.map(e=>e.toLowerCase()),a=d?n[o.indexOf(d)]:null,u=i?n[o.indexOf(i)]:null;return{longitudeFieldName:a||n[o.indexOf(t.find(e=>o.includes(e)))],latitudeFieldName:u||n[o.indexOf(l.find(e=>o.includes(e)))]}}const l=[\"lat\",\"lat83\",\"latitude\",\"latitude83\",\"latdecdeg\",\"lat_dd\",\"y\",\"ycenter\",\"point_y\"],t=[\"lon\",\"lng\",\"lng83\",\"long\",\"long83\",\"longitude\",\"longitude83\",\"longdecdeg\",\"long_dd\",\"x\",\"xcenter\",\"point_x\"];export{n as inferLocationInfo,l as latitudeFieldNames,t as longitudeFieldNames};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import{ClonableMixin as r}from\"../../core/Clonable.js\";import{JSONSupport as e}from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";let p=class extends(r(e)){constructor(o){super(o),this.type=null}};o([s({type:[\"wkb\",\"location\"],nonNullable:!0,readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],p.prototype,\"type\",void 0),p=o([t(\"esri.layers.support.ParquetEncodingBase\")],p);export{p as ParquetEncodingBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../geometry/SpatialReference.js\";import t from\"../../../../../layers/support/FieldsIndex.js\";class i{static minimal(e,n,l=[]){return new i({geometryType:e,fieldsIndex:new t(l).toJSON(),featureIdInfo:{type:\"object-id\",fieldName:n},subtypes:null,subtypeField:null,types:null,globalIdField:null,spatialReference:null,outSpatialReference:null,timeInfo:null,timeReferenceUnknownClient:null,dateFieldsTimeZone:null,typeIdField:null})}static createFeature(e){return new i(e)}constructor(i){let n;this._options=i,this._fieldsIndex=t.fromJSON(i.fieldsIndex),i.spatialReference&&(i.spatialReference instanceof e?this._spatialReference=i.spatialReference:this._spatialReference=e.fromJSON(i.spatialReference)),i.outSpatialReference&&(i.outSpatialReference instanceof e?this._outSpatialReference=i.outSpatialReference:this._outSpatialReference=e.fromJSON(i.outSpatialReference)),\"object-id\"===i.featureIdInfo.type&&(n=i.featureIdInfo.fieldName),this._arcadeSchema={fields:this.fieldsIndex.fields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,objectIdField:n,globalIdField:this._options.globalIdField,spatialReference:this._spatialReference,timeInfo:this._options.timeInfo,typeIdField:this._options.typeIdField??void 0,types:this._options.types??void 0,subtypeField:this._options.subtypeField,subtypes:this._options.subtypes??void 0,datesInUnknownTimezone:this._options.timeReferenceUnknownClient??void 0,dateFieldsTimeZone:this._options.dateFieldsTimeZone??void 0}}get fieldsIndex(){return this._fieldsIndex}get geometryType(){return\"esriGeometryMultiPatch\"===this._options.geometryType?\"esriGeometryPolygon\":this._options.geometryType}get serviceGeometryType(){return this._options.geometryType}get subtypeField(){return this._options.subtypeField}get timeInfo(){return this._options.timeInfo}get featureIdInfo(){return this._options.featureIdInfo}get globalIdField(){return this._options.globalIdField}get arcadeSchema(){return this._arcadeSchema}get spatialReference(){return this._spatialReference}get outSpatialReference(){return this._outSpatialReference}get timeReferenceUnknownClient(){return this._options.timeReferenceUnknownClient}weakCloneWithAdditionalFields(e){return new i({fieldsIndex:{fields:[...this._fieldsIndex.fields,...e],timeZoneByFieldName:null},geometryType:this.geometryType,globalIdField:this.globalIdField,featureIdInfo:this.featureIdInfo,spatialReference:this.spatialReference,outSpatialReference:this.outSpatialReference,subtypeField:this.subtypeField,subtypes:this._options.subtypes,timeInfo:this.timeInfo,timeReferenceUnknownClient:this.timeReferenceUnknownClient,dateFieldsTimeZone:this._options.dateFieldsTimeZone,typeIdField:this._options.typeIdField,types:this._options.types})}}class n extends i{static createGraphics(e){return new n({fieldsIndex:(new t).toJSON(),featureIdInfo:{type:\"object-id\",fieldName:\"uid\"},geometryType:null,spatialReference:e,outSpatialReference:e,globalIdField:null,subtypeField:null,subtypes:null,timeInfo:null,typeIdField:null,types:null,timeReferenceUnknownClient:null,dateFieldsTimeZone:null})}}export{i as FeatureMetadata,n as GraphicsMetadata};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport o from\"./ParquetEncodingLocation.js\";import r from\"./ParquetEncodingWkb.js\";function t(t){switch(t.type){case\"wkb\":return r.fromJSON(t);case\"location\":return o.fromJSON(t)}}export{t as fromParquetEncodingJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__addDisposableResource as e,__disposeResources as t}from\"tslib\";import s from\"../../../../core/Collection.js\";import{toConst as r}from\"../../../../core/compilerUtils.js\";import o from\"../../../../core/Error.js\";import has from\"../../../../core/has.js\";import i from\"../../../../core/Logger.js\";import{QueueProcessor as n}from\"../../../../core/QueueProcessor.js\";import a from\"../../../../geometry/SpatialReference.js\";import{set as u,create as p,expandWithRect as l,expandWithAABB as c,negativeInfinity as d,fromRect as f}from\"../../../../geometry/support/aaBoundingBox.js\";import{getQueryResultExtent as m,QueryEngine as y}from\"../../data/QueryEngine.js\";import{QueryEngineResult as h}from\"../../data/QueryEngineResult.js\";import{createDrawingInfo as g}from\"./clientSideDefaults.js\";import _ from\"../../../support/Field.js\";import w from\"../../../support/FieldsIndex.js\";import{collectSQLFieldNames as I}from\"../../../support/fieldUtils.js\";import{fromParquetEncodingJSON as R}from\"../../../support/parquetEncodingUtils.js\";import{completeParquetLayerInfo as x,fromParquetJSONGeometryType as S,toParquetJSONGeometryType as F}from\"../../../support/parquetUtils.js\";import{createParquetFile as q,readGeoMetadata as C}from\"../../../../libs/parquet/parquet.js\";import{FeatureStoreQueryAdapter as b}from\"../../../../views/2d/layers/features/FeatureStoreQueryAdapter.js\";import{FeatureSnapshotSourceChunk as v}from\"../../../../views/2d/layers/features/sources/strategies/chunks/FeatureSnapshotSourceChunk.js\";import{FeatureSourceChunkStore as O}from\"../../../../views/2d/layers/features/sources/strategies/chunks/SourceChunkStore.js\";import{FeatureMetadata as j}from\"../../../../views/2d/layers/features/support/FeatureMetadata.js\";import{FeatureSetReaderParquet as Q}from\"../../../../views/2d/layers/features/support/FeatureSetReaderParquet.js\";const A=new b,E=4,P=8e3,B=\"__OBJECTID\";class T{constructor(){this._fileInfos=new Map,this._queue=new n({concurrency:E,process:(e,t)=>this._executeQuery(e,t)})}async load(r){const n=r.spatialReference?a.fromJSON(r.spatialReference):void 0;if(n&&!n.isWGS84&&!n.isWebMercator)throw new o(\"parquet:unsupported-projection\",\"Only WGS84 and Web Mercator are supported\");const c=await x({urls:new s(r.urls),fields:r.fields?.map(e=>_.fromJSON(e)),encoding:r.encoding?R(r.encoding):null,geometryType:r.geometryType?S(r.geometryType):null,spatialReference:n},{customParameters:r.customParameters});let f;if(c.geometryType&&c.encoding){if(!c.spatialReference)throw new o(\"parquet:unsupported\",\"SpatialReference must be defined\");if(!c.spatialReference.isGeographic&&!c.spatialReference.isWebMercator)throw new o(\"parquet:unsupported-projection\",\"Only WGS84 and Web Mercator are supported\");c.spatialReference.isGeographic&&!c.spatialReference.isWGS84&&(i.getLogger(\"parquet:unsupported-projection\").warn(\"Found a geographic projection that is not WGS84. Handling as WGS84.\",{spatialReference:c.spatialReference}),c.spatialReference=a.WGS84),f={geometryType:F(c.geometryType),spatialReference:c.spatialReference.toJSON(),encoding:c.encoding.toJSON(),displayOptimization:c.displayOptimization}}this.setCustomParameters(r.customParameters),this._geometryInfo=f;const m=r.urls;for(const e of m){const t=await q(e,{geometryInfo:f,outSpatialReference:null,getCustomParameters:()=>this._customParameters});this._fileInfos.set(e,{index:this._fileInfos.size,file:t})}this._capabilities=N(await this.getFileStatistics());const y=this._fileInfos.values().next().value?.file;if(!y)return{layerDefinition:{},capabilities:N(null)};const{fields:h}=c;if(null==h)throw new o(\"parquet-layer:missing-metadata\",\"Unable to create parquet source: cannot infer fields\",h);h.push(new _({name:B,type:\"oid\",alias:B}));const I={fields:h.map(e=>({...e.toJSON(),column:y.columnForFieldName(e.name)})),timeZoneByFieldName:null},C=w.fromJSON(I);this._fieldsIndex=C;const b=F(c.geometryType??\"point\");if(this._metadata=j.createFeature({fieldsIndex:I,geometryType:b,featureIdInfo:{type:\"object-id\",fieldName:\"rowId\"},subtypes:null,subtypeField:null,types:null,typeIdField:null,globalIdField:null,spatialReference:c.spatialReference,outSpatialReference:null,timeInfo:null,timeReferenceUnknownClient:null,dateFieldsTimeZone:null}),this._queryEngineParams={fieldsIndex:this._metadata.fieldsIndex,geometryType:f?.geometryType??\"esriGeometryPoint\",featureIdInfo:{type:\"object-id\",fieldName:\"rowId\"},hasM:!1,hasZ:!1,spatialReference:f?.spatialReference??{wkid:4326},aggregateAdapter:null,timeInfo:null,definitionExpression:null},c.spatialReference&&(this._fullExtent=k(this._fileInfos.values(),c.spatialReference.toJSON())),null==this._fullExtent&&\"location\"===c.encoding?.type){const{latitudeFieldName:s,longitudeFieldName:r}=c.encoding,o=this._fieldsIndex.get(s)?.column,i=this._fieldsIndex.get(r)?.column,n=u(p(),d);for(const a of this._fileInfos.values())for(const s of a.file.rowGroups()){const r={stack:[],error:void 0,hasError:!1};try{const t=e(r,s.columnDescriptorForAttribute(o),!1),a=e(r,s.columnDescriptorForAttribute(i),!1),u=[a.minValue(),t.minValue(),a.maxValue(),t.maxValue()];l(n,u),s.free()}catch(v){r.error=v,r.hasError=!0}finally{t(r)}}this._fullExtent={xmin:n[0],ymin:n[1],xmax:n[3],ymax:n[4],spatialReference:c.spatialReference?.toJSON()}}return{capabilities:this._capabilities,layerDefinition:{fields:c.fields?.map(e=>e.toJSON()),drawingInfo:g(b),extent:this._fullExtent??void 0,geometryType:b,geometryEncoding:c.encoding?.toJSON(),displayOptimization:c.displayOptimization}}}destroy(){for(const e of this._fileInfos.values())e.file.free();this._fileInfos.clear(),this._queue.destroy()}setCustomParameters(e){this._customParameters=e}getFileStatistics(){if(!this._fileInfos.size)return null;const e=Array.from(this._fileInfos.values()).reduce((e,t)=>e+t.file.byteLength(),0);return{featureCount:this._getFeatureCount(),byteLength:e}}async updateFiles(e){const t=new Set(e);for(const[s,r]of this._fileInfos.entries())t.has(s)?t.delete(s):(r.file.free(),this._fileInfos.delete(s));for(const s of t){const e=await q(s,{geometryInfo:this._geometryInfo,outSpatialReference:null,getCustomParameters:()=>this._customParameters});this._fileInfos.set(s,{index:this._fileInfos.size,file:e})}}async queryFeatures(e,t){this._validateQuery(e),z(e)||(e.resultRecordCount=e.resultRecordCount?Math.min(e.resultRecordCount,8e3):8e3,e.resultOffset=e.resultOffset??0),(e.outStatistics||e.returnDistinctValues)&&delete e.returnGeometry;return(await this._enqueueQuery(e,t)).createQueryResponse()}async queryFeatureCount(e,t){if(this._validateQuery(e),!G(e))return this._getFeatureCount();delete e.outFields,delete e.returnGeometry;return(await this._enqueueQuery(e,t)).createQueryResponseForCount()}async queryObjectIds(e,t){if(this._validateQuery(e),!G(e))return Array.from({length:this._getFeatureCount()},(e,t)=>t);e.resultRecordCount=e.resultRecordCount?Math.min(e.resultRecordCount,8e3):8e3,e.resultOffset=e.resultOffset??0,delete e.returnGeometry,delete e.outFields;return(await this._enqueueQuery(e,t)).items.map(e=>e.getObjectId())}async queryExtent(e,t){if(this._validateQuery(e),this._fullExtent&&!G(e))return{count:this._getFeatureCount(),extent:this._fullExtent};const s=r(this._metadata.spatialReference);e.returnGeometry=!0,delete e.outFields;const o=u(p(),d),i=p(),n=await this._enqueueQuery(e,t);let a=0;for(const r of n.items)r.getBounds(i)&&(c(o,i),a+=1);return{count:a,extent:m(o,s,e.outSR?r(e.outSR):s,s,!1)}}_getFeatureCount(){return Array.from(this._fileInfos.values()).reduce((e,t)=>e+t.file.numRows(),0)}_validateQuery(e){if(!this._capabilities.query.supportsStatistics&&e.outStatistics)throw new o(\"parquet:unsupported\",\"Statistics queries are not supported\",{query:e});if(!this._capabilities.query.supportsOrderBy&&e.orderByFields?.length)throw new o(\"parquet:unsupported\",\"Queries using orderBy are not supported\",{query:e});if(!this._capabilities.query.supportsDistinct&&e.returnDistinctValues)throw new o(\"parquet:unsupported\",\"Queries using returnDistinctValues are not supported\",{query:e})}async*_fetchChunks(e,t){for(const s of this._fileInfos.values()){const r=s.file.numRows(),o=Math.ceil(r/P);for(let i=0;i<o;i++){const r=i*P,o=await s.file.readChunk(r,P,e.fields,e.returnGeometry,t);for(const e of o){const t=new Q(this._metadata,this._fieldsIndex,e,0,s.index),r=M([new v(t,null,0,!1)],this._queryEngineParams);yield r}}}}_enqueueQuery(e,t){return this._queue.push(e,t)}async _executeQuery(e,t){const s=await this._getReadParams(e);if(e.objectIds?.length)for(const n of this._fileInfos.values()){const r=[],o=M((await n.file.readChunksByRowId(new Uint32Array(e.objectIds),s.fields,s.returnGeometry,t)).map((e,t)=>new Q(this._metadata,this._fieldsIndex,e,t,n.index)).map((e,t)=>new v(e,null,t,!1)),this._queryEngineParams),i=await o.executeQueryForOpaqueFeatures(e,t);for(const e of i)r.push(e);return new h(r,e,{fieldsIndex:this._fieldsIndex,geometryType:this._metadata.geometryType,spatialReference:this._queryEngineParams.spatialReference,objectIdField:\"rowId\",hasM:!1,hasZ:!1,featureAdapter:A})}let r=e.resultRecordCount??this._getFeatureCount(),o=e.resultOffset??0;delete e.resultRecordCount,delete e.resultOffset;const i=[];for await(const n of this._fetchChunks(s,t)){const s=await n.executeQueryForOpaqueFeatures(e,t);if(s.length>o){const t=s.slice(o,Math.min(o+r,s.length));for(const e of t)i.push(e);if(o=0,r-=t.length,0===r)return new h(i,e,{fieldsIndex:this._fieldsIndex,geometryType:this._metadata.geometryType,spatialReference:this._queryEngineParams.spatialReference,objectIdField:\"rowId\",hasM:!1,hasZ:!1,featureAdapter:A})}else o-=s.length}return new h(i,e,{fieldsIndex:this._fieldsIndex,geometryType:this._metadata.geometryType,spatialReference:this._queryEngineParams.spatialReference,objectIdField:\"rowId\",hasM:!1,hasZ:!1,featureAdapter:A})}async _getReadParams(e){const t=new Set;if(e.where&&await I(t,this._fieldsIndex,e.where),e.outStatistics)for(const s of e.outStatistics)null!=s.onStatisticField&&t.add(s.onStatisticField);if(e.outFields)for(const s of e.outFields)t.add(s);return{fields:this._getAttributeIds(Array.from(t)),returnGeometry:!!e.returnGeometry||!!e.geometry}}_getAttributeIds(e){if(null==e)return new Uint32Array;if(e.includes(\"*\"))return new Uint32Array(this._fieldsIndex.fields.map(e=>e.column).filter(e=>null!=e));const t=[];for(const s of e){const e=this._fieldsIndex.get(s);if(null==e)throw new o(\"unknown-field\",`Field ${s} does not exist`);null==e.column||t.push(e.column)}return new Uint32Array(t)}}function G(e){return Object.keys(e).some(e=>D(e))}function D(e){switch(e){case\"resultOffset\":case\"resultRecordCount\":case\"aggregateIds\":case\"distance\":case\"gdbVersion\":case\"geometry\":case\"having\":case\"timeExtent\":case\"where\":case\"objectIds\":case\"historicMoment\":return!0;default:return!1}}function M(e,t){const s=new O;for(const r of e)s.insert(r);return new y({...t,featureStore:s})}function U(e){switch(e.length){case 4:return f(p(),e);case 6:return e;default:throw new o(\"parquet:protocol-violation\",\"Invalid Geoparquet file. BoundingBox size must be 4 or 6.\",{bbox:e})}}function k(e,t){const s=u(p(),d);for(const r of e){const e=C(r.file);if(!e)return null;const t=e.columns[e.primary_column];if(!t.bbox)return null;const o=U(t.bbox);c(s,o)}return{xmin:s[0],ymin:s[1],xmax:s[3],ymax:s[4],spatialReference:t}}function N(e){const t=e?.featureCount;let s=!1;return null!=t&&t<has(\"parquetlayer-full-query-feature-count\")&&(s=!0),{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryBins:!1,supportsQueryPivot:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1,supportsAsyncConvert3D:!1},query:{maxRecordCount:8e3,maxRecordCountFactor:void 0,maxUniqueIDCount:void 0,standardMaxRecordCount:void 0,supportsCacheHint:!1,supportsCentroid:!0,supportsCentroidOnDegeneratedQuantizedGeometry:!1,supportsCurrentUser:!1,supportsDegeneratedQuantizedGeometry:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:s,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:s,supportsPagination:!0,supportsPaginationOnAggregatedQueries:!1,supportsPercentileStatistics:!1,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryByAnonymous:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsReturnMesh:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsStatistics:s,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,supportsSqlExpression:!1,supportsTrueCurve:!1,tileMaxRecordCount:void 0},queryAttributeBins:{supportsDate:!1,supportsFixedInterval:!1,supportsAutoInterval:!1,supportsFixedBoundaries:!1,supportsStackBy:!1,supportsSplitBy:!1,supportsSnapToData:!1,supportsReturnFullIntervalBin:!1,supportsFirstDayOfWeek:!1,supportsNormalization:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUploadWithItemId:!1,supportsUpdateWithoutM:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}function z(e){return!!(e.objectIds?.length||e.outStatistics||e.orderByFields?.length||e.returnDistinctValues)}export{T as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import{ParquetEncodingBase as r}from\"./ParquetEncodingBase.js\";let i=class extends r{constructor(e){super(e),this.type=\"location\",this.latitudeFieldName=null,this.longitudeFieldName=null}};e([o({type:[\"location\"]})],i.prototype,\"type\",void 0),e([o({type:String,json:{name:\"yField\",write:{isRequired:!0}}})],i.prototype,\"latitudeFieldName\",void 0),e([o({type:String,json:{name:\"xField\",write:{isRequired:!0}}})],i.prototype,\"longitudeFieldName\",void 0),i=e([t(\"esri.layers.support.ParquetEncodingLocation\")],i);export{i as default};\n"],"names":["s","t","constructor","r","super","this","type","primaryFieldName","o","prototype","json","write","String","name","isRequired","e","c","esriGeometryPoint","esriGeometryPolygon","esriGeometryPolyline","esriGeometryMultipoint","p","toJSON","f","fromJSON","async","y","arguments","length","undefined","urls","geometryType","spatialReference","encoding","fields","a","getItemAt","getCustomParameters","customParameters","l","u","_objectSpread","file","map","i","alias","primary_column","columns","orientation","latitudeFieldName","longitudeFieldName","g","m","mode","displayOptimization","multiscale","n","WGS84","geometry_types","Set","w","add","size","geometryTypes","values","next","value","P","_e$crs","crs","id","code","wkid","b","Object","keys","filter","item","controller","promise","_","_schedule","_deferreds","_controllers","_processingItems","_pausedSignal","concurrency","_queue","peeker","process","destroy","clear","updating","running","abort","get","forEach","push","_cancelNext","isOngoing","has","pause","h","AbortController","remove","_removeItem","_scheduleNext","signal","reject","set","then","last","lastPromise","peek","popLast","_this$_deferreds$get","reset","Array","from","resume","takeAll","pop","delete","_next","_process","_processResult","_canProcessFulfillment","resolve","_processError","d","_e","_e2","toLowerCase","indexOf","find","includes","nonNullable","readOnly","read","minimal","fieldsIndex","featureIdInfo","fieldName","subtypes","subtypeField","types","globalIdField","outSpatialReference","timeInfo","timeReferenceUnknownClient","dateFieldsTimeZone","typeIdField","createFeature","_this$_options$typeId","_this$_options$types","_this$_options$subtyp","_this$_options$timeRe","_this$_options$dateFi","_options","_fieldsIndex","_spatialReference","_outSpatialReference","_arcadeSchema","objectIdField","datesInUnknownTimezone","serviceGeometryType","arcadeSchema","weakCloneWithAdditionalFields","timeZoneByFieldName","createGraphics","A","B","T","_fileInfos","Map","_executeQuery","load","_r$fields","_this$_fileInfos$valu","_c$geometryType","_f$geometryType","_f","_f$spatialReference","_f2","_c$encoding","_c$fields","_this$_fullExtent","_c$encoding2","isWGS84","isWebMercator","x","R","S","isGeographic","getLogger","warn","F","setCustomParameters","_geometryInfo","q","geometryInfo","_customParameters","index","_capabilities","N","getFileStatistics","layerDefinition","capabilities","I","column","columnForFieldName","C","_metadata","j","_queryEngineParams","hasM","hasZ","aggregateAdapter","definitionExpression","_fullExtent","bbox","U","xmin","ymin","xmax","ymax","k","_this$_fieldsIndex$ge","_this$_fieldsIndex$ge2","_c$spatialReference","rowGroups","stack","error","hasError","columnDescriptorForAttribute","minValue","maxValue","free","v","drawingInfo","extent","geometryEncoding","reduce","byteLength","featureCount","_getFeatureCount","updateFiles","entries","queryFeatures","_e$resultOffset","_validateQuery","_e$objectIds2","_e$orderByFields2","objectIds","outStatistics","orderByFields","returnDistinctValues","z","resultRecordCount","Math","min","resultOffset","returnGeometry","_enqueueQuery","createQueryResponse","queryFeatureCount","G","outFields","createQueryResponseForCount","queryObjectIds","_e$resultOffset2","items","getObjectId","queryExtent","count","getBounds","outSR","numRows","_e$orderByFields","query","supportsStatistics","supportsOrderBy","supportsDistinct","_fetchChunks","_this","_wrapAsyncGenerator","ceil","_awaitAsyncGenerator","readChunk","Q","M","_e$objectIds","_e$resultRecordCount","_e$resultOffset3","_getReadParams","readChunksByRowId","Uint32Array","executeQueryForOpaqueFeatures","featureAdapter","_iteratorError","_iteratorAbruptCompletion","_didIteratorError","_step","_iterator","_asyncIterator","done","slice","err","return","where","onStatisticField","_getAttributeIds","geometry","concat","some","D","O","insert","featureStore","analytics","supportsCacheHint","attachment","data","isVersioned","isBranchVersioned","supportsAttachment","supportsM","supportsZ","metadata","supportsAdvancedFieldProperties","operations","supportsCalculate","supportsTruncate","supportsValidateSql","supportsAdd","supportsDelete","supportsEditing","supportsChangeTracking","supportsQuery","supportsQueryBins","supportsQueryPivot","supportsQueryAnalytics","supportsQueryAttachments","supportsQueryTopFeatures","supportsResizeAttachments","supportsSync","supportsUpdate","supportsExceedsLimitStatistics","supportsAsyncConvert3D","maxRecordCount","maxRecordCountFactor","maxUniqueIDCount","standardMaxRecordCount","supportsCentroid","supportsCentroidOnDegeneratedQuantizedGeometry","supportsCurrentUser","supportsDegeneratedQuantizedGeometry","supportsDisjointSpatialRelationship","supportsDistance","supportsExtent","supportsFormatPBF","supportsGeometryProperties","supportsHavingClause","supportsHistoricMoment","supportsMaxRecordCountFactor","supportsPagination","supportsPaginationOnAggregatedQueries","supportsPercentileStatistics","supportsQuantization","supportsQuantizationEditMode","supportsQueryByAnonymous","supportsQueryByOthers","supportsQueryGeometry","supportsResultType","supportsReturnMesh","supportsStandardizedQueriesOnly","supportsTopFeaturesQuery","supportsSpatialAggregationStatistics","supportedSpatialAggregationStatistics","envelope","centroid","convexHull","supportsDefaultSpatialReference","supportsFullTextSearch","supportsCompactGeometry","supportsSqlExpression","supportsTrueCurve","tileMaxRecordCount","queryAttributeBins","supportsDate","supportsFixedInterval","supportsAutoInterval","supportsFixedBoundaries","supportsStackBy","supportsSplitBy","supportsSnapToData","supportsReturnFullIntervalBin","supportsFirstDayOfWeek","supportsNormalization","queryRelated","supportsCount","queryTopFeatures","editing","supportsDeleteByAnonymous","supportsDeleteByOthers","supportsGeometryUpdate","supportsGlobalId","supportsReturnServiceEditsInSourceSpatialReference","supportsRollbackOnFailure","supportsUpdateByAnonymous","supportsUpdateByOthers","supportsUploadWithItemId","supportsUpdateWithoutM","supportsAsyncApplyEdits","zDefault"],"ignoreList":[],"sourceRoot":""}